extends ../../layout/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/search.pug
include ../../mixins/sortCategory.pug
include ../../mixins/table-tree.pug


block main
    
    h1 List Role 
    .card.mb-3
        .card-header Roles Management
            .card-body
                .row 
                    .col-8 
                    .col-4 
                        a(
                            href=`${prefixAdmin}/roles/create`
                            class = "btn btn-outline-success"
                        ) + New
            table(
                class="table table-hover table-sm "
            )
                thead 
                    tr 
                        th #
                        th Title
                        th Description 
                        th Action
                tbody 
                    if(records.length > 0)
                        each item, index in records 
                            tr 
                                td #{index + 1}
                                td #{item.title}
                                td #{item.description}
                                td
                                    a(
                                        href=`${prefixAdmin}/roles/detail/${item.id}`
                                        class="btn btn-info btn-sm"
                                    ) Detail
                                    a(
                                        href=`${prefixAdmin}/roles/edit/${item.id}`
                                        class="btn btn-warning btn-sm ml-1"
                                    ) Edit
                                    button(
                                        class="btn btn-danger btn-sm ml-1"
                                        button-delete
                                        data-id=item.id
                                    ) Delete
                    else
                        tr
                            td.text-center(colspan="4") No roles found.
        form(
        action=""
        method ="POST"
        id="form-delete-item"
        data-path =`${prefixAdmin}/roles/delete`
        )     
    script(src="/admin/js/role.js")  
